# Deploy the stack before running these samples

# synonymous commands - container is optional/assumed, but best practice is to include it
docker container exec -it $(docker ps -lq -f name=cascadia_php-cli) bash
docker exec -it $(docker ps -lq -f name=cascadia_php-cli) bash

# show php is working from /var/www/html/
container> php command-line.php

# synonymous commands - container is optional/assumed, but best practice is to include it
docker container run --rm --interactive --tty --volume $PWD:/app composer install
docker run --rm --interactive --tty --volume $PWD:/app composer install

docker container cp sample.txt $(docker ps -lq -f name=cascadia_php-cli):/var/www/html/sample.txt
#show file is present in the container
docker exec -it $(docker ps -lq -f name=cascadia_php-cli) ls /var/www/html

# Ensure ~/Docker\ Volumes/cascadia/ folder exists, and contains a composer.json file
ls ~/Docker\ Volumes/cascadia/

docker volume create cascadia --opt type=none --opt device=~/Docker\ Volumes/cascadia/ \
	--opt o=bind --label "com.envisageinternational.description=cascadia Files"

docker volume ls -f name=cascadia
docker volume inspect cascadia

# Run the same command as before, but now with the named volume being used in the container
docker container run --rm --interactive --tty --volume cascadia:/app composer install

# See composer.lock and vendor directory now present
ls ~/Docker\ Volumes/cascadia/